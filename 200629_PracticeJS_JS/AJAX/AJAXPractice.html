<html>

<head>
  <title>AJAX Practice</title>
  <meta charset="utf-8" />
</head>

<body>
  <button id="ajaxButton" type="button">Make a request</button>
  <script>
    (function () {
      // 아래 형식을 바꿔보자, 내가 배운걸로
      var httpRequest;
      document.getElementById("ajaxButton").addEventListener('click', makeRequest);

      function makeRequest() {
        httpRequest = new XMLHttpRequest();

        if (!httpRequest) {
          alert('XMLHttpRequest 인스턴스 미생성');
          return false;
        }

        // ?? 서버의 응답을 처리하기 위한 함수 생성
        httpRequest.onreadystatechange = alertContents;
        httpRequest.open('GET', 'test.html');
        httpRequest.send();
      }

      function alertContents() {
        if (httpRequest.readyState === XMLHttpRequest.DONE) {
          if (httpRequest.status === 200) {
            alert(httpRequest.responseText);
          }
          else {
            alert('request 문제 발생');
          }
        }
      }
    })();
  </script>
</body>

</html>